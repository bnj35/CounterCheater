generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                 String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email              String  @unique @db.VarChar(255)
  username           String  @unique @db.VarChar(100)
  steamProfileUrl    String? @map("steam_profile_url") @db.VarChar(255)
  participationCount Int?    @default(0) @map("participation_count")
  role               String? @default("user") @db.VarChar(50)

  @@index([email], map: "idx_users_email")
  @@index([username], map: "idx_users_username")
  @@map("users")
}

model Cheater {
  id              String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  steamProfileUrl String  @map("steam_profile_url") @db.VarChar(255)
  videoUrl        String? @map("video_url") @db.VarChar(255)
  complaintCount  Int?    @default(0) @map("complaint_count")
  status          String? @default("pending") @db.VarChar(50)

  @@index([status], map: "idx_cheaters_status")
  @@index([steamProfileUrl], map: "idx_cheaters_steam_url")
  @@map("cheaters")
}
